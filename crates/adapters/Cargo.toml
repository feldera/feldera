[package]
name = "dbsp_adapters"
version = "0.1.0"
edition = "2021"
license = "MIT OR Apache-2.0"
description = "Data adapters for continuous streaming data analytics with DBSP"
homepage = "https://github.com/feldera/feldera"
repository = "https://github.com/feldera/feldera"
keywords = ["DBSP", "streaming", "analytics", "database"]
categories = ["database", "api-bindings", "network-programming"]
publish = false

[features]
default = ["with-kafka"]
with-kafka = ["rdkafka"]
test-utils = ["size-of", "proptest", "proptest-derive"]

[dependencies]
awc = { version = "3.1.1", features = ["rustls"] }
async-stream = "0.3.5"
num-traits = "0.2.15"
num-derive = "0.3.3"
anyhow = { version = "1.0.57", features = ["backtrace"] }
circular-queue = { version = "0.2.6", features = ["serde_support"] }
crossbeam = "0.8.2"
dbsp = { path = "../dbsp" }
serde = { version = "1.0", features = ["derive", "rc"] }
erased-serde = "0.3.23"
once_cell = "1.9.0"
serde_yaml = "0.9.14"
serde_json = { version = "1.0.103", features = ["raw_value"] }
serde_urlencoded = "0.7.1"
form_urlencoded = "1.2.0"
csv = "1.2.2"
# cmake-build is required on Windows.
rdkafka = { version = "0.33.2", features = ["cmake-build"], optional = true }
actix = "0.13"
actix-web = "4.3"
actix-web-static-files = "4.0.0"
actix-test = "0.1.1"
static-files = "0.2.3"
mime = "0.3.16"
log = "0.4.17"
size-of = { version = "0.1.2", features = ["time-std"], optional = true }
futures = { version = "0.3.28" }
futures-util = { version = "0.3.28" }
proptest = { version = "1.0.0", optional = true }
proptest-derive = { version = "0.3.0", optional = true }
env_logger = "0.10.0"
clap = { version = "4.0.32", features = ["derive"] }
tokio = { version = "1.25.0", features = ["sync", "macros", "fs", "rt"] }
prometheus = "0.13.3"
utoipa = { version = "3.3.0" }
chrono = { version = "0.4.24", features = ["clock"], default-features = false }
colored = "2.0.0"
uuid = { version = "1.3.3", features = ["v4", "std"] }
webpki-roots = "0.25.1"
rustls = "0.20.8"
lazy_static = "1.4.0"
rkyv = "0.7.42"

[target.'cfg(any(target_os = "macos", target_os = "linux"))'.dependencies]
psutil = "3.2.2"

[dev-dependencies]
bstr = { version = "0.2.1", features = ["serde1"] }
serde_json = "1.0.89"
size-of = { version = "0.1.2", features = ["time-std"] }
tempfile = "3.3.0"
proptest = "1.0.0"
proptest-derive = "0.3.0"
futures = "0.3.25"
bytestring = "1.2.0"
actix-codec = "0.5.0"
actix-web = "4.3"
async-stream = "0.3.5"
futures-timer = "3.0.2"

[build-dependencies]
static-files = "0.2.3"

[package.metadata.cargo-machete]
ignored = ["static-files"]
